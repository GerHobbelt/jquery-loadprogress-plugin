(function(){$.extend({loadprogress:function(c){function h(){b.css({height:$(window).height()})}var c=c||{},a={imgSelector:"img",easing:"swing",duration:"1000",showText:!0,bodyOverflowFixTo:"auto"};$.extend(a,c);var i=document.getElementsByTagName("body")[0];a.bodyOverflowFixTo&&(i.style.overflow="hidden");var b=$('<div id="loadprogress-overlay" />');b.css({height:$(window).height()});var c=$('<div id="loadprogress-box" />'),f=$('<div id="loadprogress-bar" />');if(a.showText){var d=$('<div id="loadprogress-text" />');
d.text("0%")}$(window).resize(h).resize();var j=$(a.imgSelector),g=j.length,e=0;b.appendTo($("body")).append(c.append(f).append(d));$(window).one("loadprogressEnd",function(){f.stop(!0,!1).animate({width:"100%"},400,"swing");a.showText&&d.text("100%");b.delay(200).fadeTo(a.duration,0,a.easing,function(){a.bodyOverflowFixTo&&(i.style.overflow=a.bodyOverflowFixTo);$(this).remove();$(window).off("resize",h)})}).bind("loadprogressProgress",function(c,b){f.css({width:100*(b/g)+"%"});a.showText&&d.text(Math.floor(100*
(b/g))+"%")});j.each(function(){var a=$(this).attr("src");$("<img />").one("load",function(){e+=1;g===e?$(window).trigger("loadprogressEnd"):$(window).trigger("loadprogressProgress",e)}).attr("src",a)})}})})(jQuery);